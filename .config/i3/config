# Reset to Default: i3-config-wizard(1)
# Fonts: awesome-terminal-fonts, icons-in-terminal

# Set Mod Key (Mod1 = Alt, Mod4 = System)
set $mod Mod4


#=====# APPEARANCE #=====#


# Set Gaps
gaps inner 10
gaps outer 0

# Configure Border Style
default_border pixel 1
default_floating_border pixel 1

# Font for Window Titles and Bar if not set in bar {}
font xft:Bitstream Vera Sans 10

# Color Variables from ~/.Xresources
set_from_resource $term_bg      background
set_from_resource $term_fg      foreground
set_from_resource $term_c0      color0
set_from_resource $term_c1      color1
set_from_resource $term_c2      color2
set_from_resource $term_c3      color3
set_from_resource $term_c4      color4
set_from_resource $term_c5      color5
set_from_resource $term_c6      color6
set_from_resource $term_c7      color7
set_from_resource $term_c8      color8
set_from_resource $term_c9      color9
set_from_resource $term_c10     color10
set_from_resource $term_c11     color11
set_from_resource $term_c12     color12
set_from_resource $term_c13     color13
set_from_resource $term_c14     color14
set_from_resource $term_c15     color15

# Window Title Colors
# class                 border          backgr.         text            indic.          child_border
client.focused          $term_c0        $term_bg        $term_c4        $term_c12       $term_c4
client.focused_inactive $term_c8        $term_c8        $term_c15       $term_c7        $term_c8
client.unfocused        $term_c8        $term_c8        $term_c7        $term_c7        $term_c8
client.urgent           $term_c0        $term_c11       $term_c15       $term_c7        $term_c3
client.background       $term_c0

# i3 Bar Colors
bar {
	i3bar_command i3bar -t
	status_command i3blocks
	separator_symbol " | "
	position top

	# Set Output Screen - Use: 'xrandr --output eDP1 --primary'
	# tray_output primary
	# tray_output eDP1

	bindsym button4 nop
	bindsym button5 nop
	strip_workspace_numbers yes

	colors {
		background "#00000000"
		statusline $term_fg
		separator  $term_c7

		# class                 border          backgr.         text
		focused_workspace       $term_c4        $term_c12       $term_c15
		active_workspace        $term_c7        $term_c0        $term_c15
		inactive_workspace      $term_c4        $term_fg        $term_c8
		binding_mode            $term_c4        $term_fg        $term_c8
		urgent_workspace        $term_fg        $term_c11       $term_c15
	}
}


#=====# KEYBINDINGS #=====#


# Start Terminal
bindsym $mod+Return exec i3-sensible-terminal

# Kill Focused Window
bindsym $mod+y kill

# Start Program Launcher
bindsym $mod+p --release exec --no-startup-id rofi -show combi -combi-modi drun#window -modi combi
bindsym $mod+Shift+p --release exec --no-startup-id rofi -show run

# Change Focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Move Focused Window to direction and by pixels when Floating
bindsym $mod+Shift+h move left 40 px
bindsym $mod+Shift+j move down 40 px
bindsym $mod+Shift+k move up 40 px
bindsym $mod+Shift+l move right 40 px

bindsym $mod+Shift+Left move left 40 px
bindsym $mod+Shift+Down move down 40 px
bindsym $mod+Shift+Up move up 40 px
bindsym $mod+Shift+Right move right 40 px

# Toggle Fullscreen
bindsym $mod+slash fullscreen toggle

# Split Orientation
bindsym $mod+period split h
bindsym $mod+comma split v

# Change Container Layout
bindsym $mod+a layout toggle split
bindsym $mod+s layout stacking
bindsym $mod+d layout tabbed

# Focus the Parent and Child Container
bindsym $mod+equal focus parent
bindsym $mod+minus focus child

# Toggle Tiling / Floating
bindsym $mod+Shift+n floating toggle
bindsym $mod+n focus mode_toggle

# Use Mouse+$mod to Drag Floating Window
floating_modifier $mod

# Toggle Sticky Floating Window on all Workspaces
bindsym $mod+apostrophe sticky toggle

# Move the Focused Window to the Scratchpad and alternate between
bindsym $mod+Shift+o move scratchpad
bindsym $mod+o scratchpad show

# Workspace Names
set $ws1 1:1J
set $ws2 2:2K
set $ws3 3:3L
set $ws4 4:4U
set $ws5 5:5I
set $ws6 6:6O
set $ws7 7
set $ws8 8
set $ws9 9
set $ws10 10

# Switch to Workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

bindsym $mod+u workspace prev
bindsym $mod+i workspace next
bindsym $mod+Tab workspace back_and_forth
bindsym $mod+bracketleft workspace back_and_forth

# Move Focused Container to Workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10

bindsym $mod+Ctrl+1 move container to workspace $ws1; workspace $ws1
bindsym $mod+Ctrl+2 move container to workspace $ws2; workspace $ws2
bindsym $mod+Ctrl+3 move container to workspace $ws3; workspace $ws3
bindsym $mod+Ctrl+4 move container to workspace $ws4; workspace $ws4
bindsym $mod+Ctrl+5 move container to workspace $ws5; workspace $ws5
bindsym $mod+Ctrl+6 move container to workspace $ws6; workspace $ws6
bindsym $mod+Ctrl+7 move container to workspace $ws7; workspace $ws7
bindsym $mod+Ctrl+8 move container to workspace $ws8; workspace $ws8
bindsym $mod+Ctrl+9 move container to workspace $ws9; workspace $ws9
bindsym $mod+Ctrl+0 move container to workspace $ws10; workspace $w10

bindsym $mod+Shift+u move container to workspace prev; workspace prev
bindsym $mod+Shift+i move container to workspace next; workspace next
bindsym $mod+Shift+Tab move container to workspace back_and_forth; workspace back_and_forth
bindsym $mod+Shift+bracketleft move container to workspace back_and_forth; workspace back_and_forth

# Quick Resize for Vim
bindsym $mod+bracketright resize shrink width 40px or 8 ppt

# Mode to Resize Window
set $mode_resize   Resize
bindsym $mod+m mode " $mode_resize "
mode " $mode_resize " {
	# Pixels for Floating and Percentage Points for Tilling Container
	bindsym h resize shrink width 40 px or 8 ppt
	bindsym j resize grow height 40 px or 8 ppt
	bindsym k resize shrink height 40 px or 8 ppt
	bindsym l resize grow width 40 px or 8 ppt

	bindsym Left resize shrink width 40 px or 8 ppt
	bindsym Down resize grow height 40 px or 8 ppt
	bindsym Up resize shrink height 40 px or 8 ppt
	bindsym Right resize grow width 40 px or 8 ppt

	bindsym u gaps outer current minus 40
	bindsym i gaps outer current plus 40
	bindsym o gaps inner current minus 10
	bindsym p gaps inner current plus 10
	bindsym Shift+o gaps outer current set 0, gaps inner current set 10, mode "default"

	bindsym comma floating enable, resize set 790 1040, move position center, mode "default"
	bindsym period floating enable, resize set 1280 720, move position center, mode "default"
	bindsym slash exec --no-startup-id ~/.config/i3/move_window

	# Exit Resize Mode
	bindsym Return mode "default"
	bindsym Escape mode "default"
	bindsym $mod+m mode "default"
	bindsym m mode "default"
}

set $mode_ws   Workspace
bindsym $mod+semicolon mode " $mode_ws "
mode " $mode_ws " {
	bindsym j workspace $ws1, mode "default"
	bindsym k workspace $ws2, mode "default"
	bindsym l workspace $ws3, mode "default"
	bindsym u workspace $ws4, mode "default"
	bindsym i workspace $ws5, mode "default"
	bindsym o workspace $ws6, mode "default"

	bindsym Shift+j move container to workspace $ws1, mode "default"
	bindsym Shift+k move container to workspace $ws2, mode "default"
	bindsym Shift+l move container to workspace $ws3, mode "default"
	bindsym Shift+u move container to workspace $ws4, mode "default"
	bindsym Shift+i move container to workspace $ws5, mode "default"
	bindsym Shift+o move container to workspace $ws6, mode "default"

	bindsym Ctrl+j move container to workspace $ws1, workspace $ws1, mode "default"
	bindsym Ctrl+k move container to workspace $ws2, workspace $ws2, mode "default"
	bindsym Ctrl+l move container to workspace $ws3, workspace $ws3, mode "default"
	bindsym Ctrl+u move container to workspace $ws4, workspace $ws4, mode "default"
	bindsym Ctrl+i move container to workspace $ws5, workspace $ws5, mode "default"
	bindsym Ctrl+o move container to workspace $ws6, workspace $ws6, mode "default"

	# Exit Workspace Mode
	bindsym Return mode "default"
	bindsym Escape mode "default"
	bindsym $mod+semicolon mode "default"
	bindsym m mode "default"
}

# Reload Config File and Restart i3
bindsym $mod+Shift+e reload
bindsym $mod+Shift+w restart

# Mode to Restart, Exit and Shutdown #  sus[P]end,  [H]ibernate
set $mode_system  L  |   U  |   E  |   R  |   S
bindsym $mod+Shift+q mode " $mode_system "
bindsym $mod+Shift+y mode " $mode_system "
mode " $mode_system " {
	bindsym l exec --no-startup-id i3exit lock, mode "default"
	bindsym u exec --no-startup-id i3exit switch_user, mode "default"
	bindsym e exec --no-startup-id i3exit logout, mode "default"
	# bindsym p exec --no-startup-id i3exit suspend, mode "default"
	# bindsym h exec --no-startup-id i3exit hibernate, mode "default"
	bindsym r exec --no-startup-id i3exit reboot, mode "default"
	bindsym s exec --no-startup-id i3exit shutdown, mode "default"

	# Exit System Mode
	bindsym Return mode "default"
	bindsym Escape mode "default"
}


#=====# RUN APPLICATIONS #=====#


# Media Player Controls
bindsym XF86AudioPlay exec --no-startup-id playerctl play-pause
bindsym XF86AudioNext exec --no-startup-id playerctl next
bindsym XF86AudioPrev exec --no-startup-id playerctl previous
bindsym XF86AudioMute exec --no-startup-id ~/.config/i3/pactl-find-sink
bindsym XF86AudioLowerVolume exec --no-startup-id ~/.config/i3/pactl-find-sink -m
bindsym XF86AudioRaiseVolume exec --no-startup-id ~/.config/i3/pactl-find-sink -p

# Screen Brightness Controls
#bindsym XF86MonBrightnessUp exec "xbacklight -inc 10; notify-send 'brightness up'"
#bindsym XF86MonBrightnessDown exec "xbacklight -dec 10; notify-send 'brightness down'"

# Launch Applications
bindsym XF86Explorer exec i3-sensible-terminal -e vifm . /
bindsym XF86Calculator exec qalculate-gtk
#bindsym XF86HomePage
#bindsym XF86Mail
#bindsym XF86Search
bindsym $mod+F6 exec --no-startup-id compton -b
bindsym $mod+Shift+F6 exec --no-startup-id pkill compton
bindsym $mod+F7 exec i3-sensible-terminal -e alsamixer
bindsym $mod+F8 exec qbittorrent
bindsym Print exec --no-startup-id i3-scrot
bindsym $mod+Print --release exec --no-startup-id i3-scrot -w
bindsym $mod+Shift+Print --release exec --no-startup-id i3-scrot -s
bindsym $mod+Shift+x --release exec --no-startup-id xkill

# Open specific Applications in Floating Mode - Use: 'xprop'
for_window [title="alsamixer"] floating enable
for_window [class="Lightdm-settings"] floating enable
for_window [class="Lxappearance"] floating enable
for_window [class="Lightdm-gtk-greeter-settings"] floating enable
for_window [class="qt5ct"] floating enable
for_window [class="Feh"] floating enable border resize set 1280 720
for_window [class="Sxiv"] floating enable border
for_window [class="Qalculate-gtk"] floating enable
for_window [class="Piper"] floating enable
for_window [class="Blueman-manager"] floating enable

# Switch to Workspace with Urgent Window automatically
for_window [urgent=latest] focus

# Autostart Applications
exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec_always --no-startup-id ~/.fehbg
exec --no-startup-id compton -b
exec --no-startup-id nm-applet
exec --no-startup-id blueman-applet
exec_always --no-startup-id xset -b
exec --no-startup-id udisksctl mount -b /dev/sdc1
exec --no-startup-id udisksctl mount -b /dev/sdb1
